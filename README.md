# Системный Монитор

![Tests](https://github.com/{username}/{repo}/actions/workflows/tests.yml/badge.svg)
[![codecov](https://codecov.io/gh/{username}/{repo}/branch/main/graph/badge.svg)](https://codecov.io/gh/{username}/{repo})

## Обзор
Системный Монитор — это веб-приложение, которое предоставляет возможность в реальном времени отслеживать системные метрики, такие как использование ЦП, использование ОЗУ и использование диска. Приложение построено с использованием Flask, легковесного фреймворка WSGI для веб-приложений на Python, и использует SQLAlchemy для взаимодействия с базой данных.

## Возможности
- Мониторинг использования ЦП, ОЗУ и диска в реальном времени.
- Возможность записи метрик с течением времени.
- Просмотр данных записанных метрик.

## Используемые технологии
- **Flask**: Веб-фреймворк для построения приложения.
- **SQLAlchemy**: ORM для взаимодействия с базой данных.
- **psutil**: Библиотека для получения информации о использовании системных ресурсов (ЦП, память, диски, сеть, датчики).
- **HTML/CSS/JavaScript**: Для интерфейса на стороне клиента.
- **Webview**: Для создания окна настольного приложения для веб-приложения.

## Установка

### Предварительные требования
- Python 3.x
- pip (установщик пакетов Python)

### Шаги
1. Клонируйте репозиторий:
   ```bash
   git clone <url-репозитория>
   cd <каталог-репозитория>
   ```

2. Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate
   ```

3. Установите необходимые пакеты:
   ```bash
   pip install -r requirements.txt
   ```

4. Настройте базу данных:
   - Приложение по умолчанию использует SQLite. Вы можете изменить конфигурацию базы данных в файле `config.py`, если это необходимо.

5. Запустите приложение:
   ```bash
   python run.py
   ```

6. Откройте приложение в веб-браузере или настольном окне:
   - Перейдите по адресу `http://localhost:5000`, чтобы получить доступ к Системному Монитору.

### Запуск через Docker

1. Убедитесь, что у вас установлен Docker и Docker Compose

2. Соберите и запустите контейнер:
   ```bash
   docker-compose up --build
   ```

3. Приложение будет доступно по адресу `http://localhost:5000`


## Использование
- Нажмите "Начать запись", чтобы начать запись системных метрик.
- Записанные метрики будут сохранены в базе данных.
- Нажмите "Показать историю", чтобы просмотреть исторические данные записанных метрик.

## Тестирование

Для запуска тестов выполните:

```bash
# Запуск всех тестов
pytest

# Запуск тестов с отчетом о покрытии
pytest --cov=app tests/

# Запуск тестов с подробным отчетом о покрытии в HTML
pytest --cov=app --cov-report=html tests/
```

### Покрытие тестами

Текущее покрытие тестами:
- Models: 100%
- Routes: 100%
- Application: 100%

### Проверка стиля кода

```bash
# Проверка стиля кода с помощью Ruff
ruff check .

# Автоматическое исправление с помощью Ruff
ruff check --fix .
```

### Запуск тестов

```bash
# Запуск всех тестов
pytest

# Запуск тестов с отчетом о покрытии
pytest --cov=app tests/

# Запуск тестов с подробным отчетом о покрытии в HTML
pytest --cov=app --cov-report=html tests/
```
